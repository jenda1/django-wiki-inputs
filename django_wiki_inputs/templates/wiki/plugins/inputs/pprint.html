{% load wiki_forms_tags %}

{% if type == None %}
&#129300;
{% elif type == 'str' or type == 'int' or type == 'float' or type == 'textarea' %}
{{val}}
{% elif type == 'files' %}
{% get_uuid as uid %}

<ul class="nav nav-tabs">
  {% for v in val %}
  <li{% if forloop.first %} class="active"{% endif %}><a data-toggle="tab" href="#{{uid}}-{{forloop.counter}}">{{ v.name }}</a></li>
  {% endfor %}
</ul>
<br/>
<div class="tab-content">
  {% for v in val %}
  <div id="{{uid}}-{{forloop.counter}}" class="tab-pane fade{% if forloop.first %} in active{% endif %}">
    {% if v.type == 'image/jpeg' or v.type == 'image/png' %}
    <object data="data:{{v.type}};base64,{{v.content}}" type="{{v.type}}"><p>{{v.name}}</p></object>
    {% elif v.type %}
    {{ v.content|b64decode|codehilite:v.type }}
    {% else %}
    {{ v.content|codehilite:'text/plain' }}
    {% endif %}
  </div>
  {% endfor %}
</div>
 {% elif type == 'user-list' %}
  <table>
    {% for k,v in val.items %}
    <tr>
      <th>{{k.first_name}} {{k.last_name}}</th>
      <td>{% include "wiki/plugins/inputs/pprint.html" with type=v.type val=v.val %}</td>
    </tr>
    {% endfor %}
  </div>
{% else %}
???{{type}}???
{% endif %}

